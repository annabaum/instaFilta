/*!
 * instaFilta
 * Version: 1.2.1
 * Description: jQuery plugin for performing in-page filtering
 * Homepage and documentation: https://github.com/chromawoods/instaFilta
 * Author: Andreas Larsson <andreas@chromawoods.com> (http://chromawoods.com)
 * Contributions: Jaap-Jan Frans
 */
!function(t){t.fn.instaFilta=function(s){var a=t.extend({scope:null,targets:".instafilta-target",sections:".instafilta-section",matchCssClass:"instafilta-match",markMatches:!1,hideEmptySections:!0,beginsWith:!1,caseSensitive:!1,typeDelay:0,useSynonyms:!0,synonyms:[{src:"à,á,å,ä,â,ã",dst:"a"},{src:"À,Á,Å,Ä,Â,Ã",dst:"A"},{src:"è,é,ë,ê",dst:"e"},{src:"È,É,Ë,Ê",dst:"E"},{src:"ì,í,ï,î",dst:"i"},{src:"Ì,Í,Ï,Î",dst:"I"},{src:"ò,ó,ö,ô,õ",dst:"o"},{src:"Ò,Ó,Ö,Ô,Õ",dst:"O"},{src:"ù,ú,ü,û",dst:"u"},{src:"Ù,Ú,Ü,Û",dst:"U"},{src:"ç",dst:"c"},{src:"Ç",dst:"C"},{src:"æ",dst:"ae"}]},s);if(a.useSynonyms)for(var e=0,i=a.synonyms.length;i>e;e++)a.synonyms[e].src=a.synonyms[e].src.split(",");return this.each(function(){var s,e,i,n,r="";a.scope?(n=t(this).closest(a.scope),e=n.find(a.targets),i=n.find(a.sections)):(e=t(a.targets),i=t(a.sections)),e.each(function(){$target=t(this),original=$target.text(),$target.data("values",function(t){var s=[original],e=original;if(!a.useSynonyms)return s;for(var i=0,n=t.length;n>i;i++)for(var r=0;r<t[i].src.length;r++)e=e.replace(t[i].src[r],t[i].dst);return!(e!==original)||s.push(e),s}(a.synonyms))});var c=function(){i.each(function(){var s=t(this);s.toggle(!!s.find('[data-instafilta-hide="false"]').length)})},o=function(s){return s=a.caseSensitive?s:s.toLowerCase(),r===s?!1:(r=s,s||(e.attr("data-instafilta-hide","false").show(),i.show()),e.each(function(){var e=t(this);e.data("originalText")||(e.data("originalHtml",e.html()),e.data("originalText",e.data("values")[0]));var i=function(t,s){for(var e=-1,i=0;i<t.length&&(e=(a.caseSensitive?t[i]:t[i].toLowerCase()).indexOf(s),!(e>=0));i++);return e}(e.data("values"),s),n=e.data("originalText"),r=(a.caseSensitive?n:n.toLowerCase(),null),c=null;i>=0&&a.markMatches&&(r=n.substring(i,i+s.length),c=n.replace(r,'<span class="'+a.matchCssClass+'">'+r+"</span>"),e.html(e.data("originalHtml").replace(n,c))),e.attr("data-instafilta-hide",a.beginsWith&&0!==i||0>i?"true":"false")}),e.filter('[data-instafilta-hide="true"]').hide(),e.filter('[data-instafilta-hide="false"]').show(),a.hideEmptySections&&c(),void 0)};t(this).on("keyup",function(){var e=t(this);clearTimeout(s),s=setTimeout(function(){o(e.val())},a.typeDelay)})}),this}}(jQuery);