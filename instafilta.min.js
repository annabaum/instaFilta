/*!
 * instaFilta
 * Description: "jQuery plugin for performing in-page filtering"
 * Homepage: https://github.com/chromawoods/instaFilta
 * Author: Andreas Larsson <andreas@chromawoods.com> (http://chromawoods.com)
 * Contributions: Jaap-Jan Frans
 */
!function(t){t.fn.instaFilta=function(a){var i=t.extend({scope:null,targets:".instafilta-target",sections:".instafilta-section",matchCssClass:"instafilta-match",markMatches:!1,hideEmptySections:!0,beginsWith:!1,caseSensitive:!1,typeDelay:0},a);return this.each(function(){var a,e,s,n,l="";null!=i.scope?(n=t(this).closest(i.scope),e=n.find(i.targets),s=n.find(i.sections)):(e=t(i.targets),s=t(i.sections));var o=function(){s.each(function(){var a=t(this);a.toggle(!!a.find('[data-instafilta-hide="false"]').length)})},r=function(a){return a=i.caseSensitive?a:a.toLowerCase(),l===a?!1:(l=a,a||(e.attr("data-instafilta-hide","false").show(),s.show()),e.each(function(){var e=t(this);e.data("originalText")||(e.data("originalHtml",e.html()),e.data("originalText",e.text()));var s=e.data("originalText"),n=i.caseSensitive?s:s.toLowerCase(),l=n.indexOf(a),o=null,r=null;l>=0&&i.markMatches&&(o=s.substring(l,l+a.length),r=s.replace(o,'<span class="'+i.matchCssClass+'">'+o+"</span>"),e.html(e.data("originalHtml").replace(s,r))),e.attr("data-instafilta-hide",i.beginsWith&&0!==l||0>l?"true":"false")}),e.filter('[data-instafilta-hide="true"]').hide(),e.filter('[data-instafilta-hide="false"]').show(),i.hideEmptySections&&o(),void 0)},c=function(){var e=t(this);clearTimeout(a),a=setTimeout(function(){r(e.val())},i.typeDelay)};t(this).on("keyup",c)}),this}}(jQuery);